<!DOCTYPE html>
<html lang="es">

<head>
	<%- include('../templates/headMetas'); -%>
	<title>Premios - Listado</title>
</head>

<body class="cupcakes-bg">
	<%- include('../templates/header'); -%>

	<div class="px-2 content lg:px-4">
		<div class="flex justify-between gap-4">
			<div>
				<h1 class="mb-2 text-3xl font-semibold">Premios</h1>
				<div class="bg-cBlue h-[3px] w-20 mb-4"></div>
			</div>
			<div>
				<a class="inline-block px-3 py-1 mt-3 text-sm font-medium text-white border rounded border-cPink bg-cPink hover:bg-transparent hover:text-cPink focus:outline-none focus:ring active:text-indigo-500" href="/admin/premios/nuevo">
					<i class="mr-2 fa-solid fa-award"></i>
					Crear Premio
				</a>
			</div>
		</div>

		<section id="grid-rewards" class="mt-2"></section>
	</div>

	<%- include('../templates/footer'); -%>

	<script type="module">
		import { Grid, html } from 'https://unpkg.com/gridjs?module';
		new Grid({
			search: true,
			columns: [{
				id: 'img',
				name: 'Foto',
				width: '120px',
				sort: {
					enabled: false
				}
			}, {
				id: 'id',
				name: 'ID',
				width: '10%',
			}, {
				id: 'name',
				name: 'Nombre del producto'
			}, {
				id: 'value',
				name: 'Valor'
			}, {
				id: 'state',
				name: 'Estado'
			}, {
				id: 'actions',
				name: '',
				width: '8%',
				sort: {
					enabled: false
				}
			}],
			sort: true,
			data: [
				[
					html(`<img src="/assets/img/rewards/1.jpg" class="aspect-square w-full rounded object-cover">`),
					1,
					'Especial Cupcakes de Crema Acida con Galleta x6',
					'4500 Pts',
					'Activo', 
					html(`<a href="/admin/premios/edit/1/"><i class="mx-1 text-gray-500 fa-solid fa-pen-to-square hover:text-cPink"></i></a><a href="" onClick="deletePremio(1)"><i class="mx-1 text-gray-500 fa-solid fa-trash-can hover:text-cPink"></i></a>`)
				],[
					html(`<img src="/assets/img/rewards/2.jpg" class="aspect-square w-full rounded object-cover">`),
					2,
					'Red Velvet con Frosting de Crema de Queso y Fresas',
					'9500 Pts',
					'Activo', 
					html(`<a href="/admin/premios/edit/2/"><i class="mx-1 text-gray-500 fa-solid fa-pen-to-square hover:text-cPink"></i></a><a href="" onClick="deletePremio(2)"><i class="mx-1 text-gray-500 fa-solid fa-trash-can hover:text-cPink"></i></a>`)
				],[
					html(`<img src="/assets/img/rewards/3.jpg" class="aspect-square w-full rounded object-cover">`),
					3,
					'Pastel de Vainilla Y Fresa',
					'9500 Pts',
					'Activo', 
					html(`<a href="/admin/premios/edit/3/"><i class="mx-1 text-gray-500 fa-solid fa-pen-to-square hover:text-cPink"></i></a><a href="" onClick="deletePremio(3)"><i class="mx-1 text-gray-500 fa-solid fa-trash-can hover:text-cPink"></i></a>`)
				],[
					html(`<img src="/assets/img/rewards/no-photo.jpg" class="aspect-square w-full rounded object-cover">`),
					4,
					'Pastel Ferrero cubierto con Chocolate',
					'0 Pts',
					'Desactivado', 
					html(`<a href="/admin/premios/edit/4/"><i class="mx-1 text-gray-500 fa-solid fa-pen-to-square hover:text-cPink"></i></a><a href="" onClick="deletePremio(4)"><i class="mx-1 text-gray-500 fa-solid fa-trash-can hover:text-cPink"></i></a>`)
				]				
			],
			// server: {
			// 	url: 'http://localhost:3018/admin/rewardList',
			// 	then: data => data.map(reward => [reward.id, reward.name, reward.email, reward.phone,
		    //         html(`<a href="/admin/premios/edit/${reward.id}/"><i class="mx-1 text-gray-500 fa-solid fa-pen-to-square hover:text-cPink"></i></a>
		    //               <a href="" onClick="deletePremio(${reward.id})"><i class="mx-1 text-gray-500 fa-solid fa-trash-can hover:text-cPink"></i></a>`)]),
			// 	handle: (res) => {
			// 	// no matching records found
			// 	if (res.status === 404) return {data: []};
			// 	if (res.ok) return res.json();

			// 	throw Error('oh no :(');
			// 	},
			// }, 
			pagination: {
				enabled: true,
				limit: 10,
				summary: false
			},
			language: {
				'search': {
				'placeholder': 'üîç Buscar...'
			},
			'pagination': {
				'previous': 'Ant.',
				'next': 'Sig.'
			}, 
			style: { 
				table: { 
				'white-space': 'nowrap'
				}
			}
		}
		}).render(document.getElementById('grid-rewards'));
	</script>

	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>